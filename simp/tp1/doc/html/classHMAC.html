<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Security API for CCP: HMAC Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Security API for CCP
   &#160;<span id="projectnumber">0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">HMAC Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classHMAC.html" title="HMAC class. ">HMAC</a> class.  
 <a href="classHMAC.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="hmac_8hpp_source.html">hmac.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af1a48c84179f5fa75db1a226dd9f4784"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHMAC.html#af1a48c84179f5fa75db1a226dd9f4784">init</a> (const uint8_t *key, size_t length)</td></tr>
<tr class="memdesc:af1a48c84179f5fa75db1a226dd9f4784"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function used to init the mac module.  <a href="#af1a48c84179f5fa75db1a226dd9f4784">More...</a><br /></td></tr>
<tr class="separator:af1a48c84179f5fa75db1a226dd9f4784"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b9524a8e0940a487790465f5d0b60dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHMAC.html#a5b9524a8e0940a487790465f5d0b60dc">update</a> (const uint8_t *data, size_t length)</td></tr>
<tr class="memdesc:a5b9524a8e0940a487790465f5d0b60dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function used to add data-block to the processed input.  <a href="#a5b9524a8e0940a487790465f5d0b60dc">More...</a><br /></td></tr>
<tr class="separator:a5b9524a8e0940a487790465f5d0b60dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a354fa05b4188049bdee0d70ddda0558c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHMAC.html#a354fa05b4188049bdee0d70ddda0558c">final</a> (uint8_t *tag)</td></tr>
<tr class="memdesc:a354fa05b4188049bdee0d70ddda0558c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function used to finalize the mac procedure.  <a href="#a354fa05b4188049bdee0d70ddda0558c">More...</a><br /></td></tr>
<tr class="separator:a354fa05b4188049bdee0d70ddda0558c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a7c151dae82d31295a73c4a2d7e27e45a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="error_8hpp.html#acabd2917084445509becf54ab64a4bd0">myerror_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHMAC.html#a7c151dae82d31295a73c4a2d7e27e45a">test</a> ()</td></tr>
<tr class="memdesc:a7c151dae82d31295a73c4a2d7e27e45a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Auto test function to test <a class="el" href="classHMAC.html" title="HMAC class. ">HMAC</a> implementation w.r. to few test vectors (SHA-256).  <a href="#a7c151dae82d31295a73c4a2d7e27e45a">More...</a><br /></td></tr>
<tr class="separator:a7c151dae82d31295a73c4a2d7e27e45a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a0657172b72675134e3fdb5b3eb2f9a06"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0657172b72675134e3fdb5b3eb2f9a06"></a>
static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><b>tagLength</b> = 32</td></tr>
<tr class="separator:a0657172b72675134e3fdb5b3eb2f9a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a5034564d06003b6233cb90839b1cdecf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5034564d06003b6233cb90839b1cdecf"></a>
<a class="el" href="classSHA256.html">SHA256</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHMAC.html#a5034564d06003b6233cb90839b1cdecf">hashFunction</a></td></tr>
<tr class="memdesc:a5034564d06003b6233cb90839b1cdecf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hash function used. <br /></td></tr>
<tr class="separator:a5034564d06003b6233cb90839b1cdecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac97de604a0d3a2f209b8ee75002ce315"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac97de604a0d3a2f209b8ee75002ce315"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHMAC.html#ac97de604a0d3a2f209b8ee75002ce315">keyLength</a></td></tr>
<tr class="memdesc:ac97de604a0d3a2f209b8ee75002ce315"><td class="mdescLeft">&#160;</td><td class="mdescRight">Length of the key used. <br /></td></tr>
<tr class="separator:ac97de604a0d3a2f209b8ee75002ce315"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f87b94866685a126a2d5a4882b81a7e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1f87b94866685a126a2d5a4882b81a7e"></a>
const uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHMAC.html#a1f87b94866685a126a2d5a4882b81a7e">keyValue</a></td></tr>
<tr class="memdesc:a1f87b94866685a126a2d5a4882b81a7e"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classKey.html" title="Key class. ">Key</a> used. <br /></td></tr>
<tr class="separator:a1f87b94866685a126a2d5a4882b81a7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:aa7914ba2ff1d879dd20b25149d169b59"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa7914ba2ff1d879dd20b25149d169b59"></a>
static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHMAC.html#aa7914ba2ff1d879dd20b25149d169b59">ipad</a></td></tr>
<tr class="memdesc:aa7914ba2ff1d879dd20b25149d169b59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant used for inner padding. <br /></td></tr>
<tr class="separator:aa7914ba2ff1d879dd20b25149d169b59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad108fdf696c1f3c770bcd425b632f68"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aad108fdf696c1f3c770bcd425b632f68"></a>
static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHMAC.html#aad108fdf696c1f3c770bcd425b632f68">opad</a></td></tr>
<tr class="memdesc:aad108fdf696c1f3c770bcd425b632f68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant used for outer padding. <br /></td></tr>
<tr class="separator:aad108fdf696c1f3c770bcd425b632f68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc7fa897f42fb4c2f70633a634c9bf11"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abc7fa897f42fb4c2f70633a634c9bf11"></a>
static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHMAC.html#abc7fa897f42fb4c2f70633a634c9bf11">TV_klengths</a> [3]</td></tr>
<tr class="memdesc:abc7fa897f42fb4c2f70633a634c9bf11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lengths of test vectorkeys. <br /></td></tr>
<tr class="separator:abc7fa897f42fb4c2f70633a634c9bf11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2669ec492cb8f6d8d27e2141b016f52"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2669ec492cb8f6d8d27e2141b016f52"></a>
static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHMAC.html#ab2669ec492cb8f6d8d27e2141b016f52">TV_keys</a> [3][256]</td></tr>
<tr class="memdesc:ab2669ec492cb8f6d8d27e2141b016f52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Keys used in test vectors. <br /></td></tr>
<tr class="separator:ab2669ec492cb8f6d8d27e2141b016f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c6bd95626e896c105c6506ad5103b99"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6c6bd95626e896c105c6506ad5103b99"></a>
static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHMAC.html#a6c6bd95626e896c105c6506ad5103b99">TV_mlengths</a> [3]</td></tr>
<tr class="memdesc:a6c6bd95626e896c105c6506ad5103b99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lengths of test vector messages. <br /></td></tr>
<tr class="separator:a6c6bd95626e896c105c6506ad5103b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac05dcfec7e92cc9f87d9ac61de76912f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac05dcfec7e92cc9f87d9ac61de76912f"></a>
static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHMAC.html#ac05dcfec7e92cc9f87d9ac61de76912f">TV_messages</a> [3][128]</td></tr>
<tr class="memdesc:ac05dcfec7e92cc9f87d9ac61de76912f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Messages used in test vectors. <br /></td></tr>
<tr class="separator:ac05dcfec7e92cc9f87d9ac61de76912f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a251e380746f9523321511b464c308119"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a251e380746f9523321511b464c308119"></a>
static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHMAC.html#a251e380746f9523321511b464c308119">TV_tags</a> [3][tagLength]</td></tr>
<tr class="memdesc:a251e380746f9523321511b464c308119"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hashes obtained for test vectors. <br /></td></tr>
<tr class="separator:a251e380746f9523321511b464c308119"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>At the moment uses SHA-256 hash function but should be init with any hash function in a future implementation. </p>

<p>Definition at line <a class="el" href="hmac_8hpp_source.html#l00018">18</a> of file <a class="el" href="hmac_8hpp_source.html">hmac.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a354fa05b4188049bdee0d70ddda0558c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HMAC::final </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>tag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function stores in the parameter the tag computed from the data blocks provided by the calls to the update function. </p><hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hash</td><td>is an array that will contain the final tag value. Enough space should have been allocated to contain the tag value which size depends on the hash function used.</td></tr>
  </table>
  </dd>
</dl>
<hr/>
 
<p>Referenced by <a class="el" href="api__int_8cpp_source.html#l00129">API::loadAPI()</a>, and <a class="el" href="api__int_8cpp_source.html#l00015">API::saveAPI()</a>.</p>

</div>
</div>
<a class="anchor" id="af1a48c84179f5fa75db1a226dd9f4784"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HMAC::init </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function inits the hash module and starts hashing the key xored to ipad. </p><hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>is an array of bytes containing the integrity key. </td></tr>
    <tr><td class="paramname">length</td><td>is the number key bytes.</td></tr>
  </table>
  </dd>
</dl>
<hr/>
 
<p>Referenced by <a class="el" href="api__int_8cpp_source.html#l00129">API::loadAPI()</a>, and <a class="el" href="api__int_8cpp_source.html#l00015">API::saveAPI()</a>.</p>

</div>
</div>
<a class="anchor" id="a7c151dae82d31295a73c4a2d7e27e45a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="error_8hpp.html#acabd2917084445509becf54ab64a4bd0">myerror_t</a> HMAC::test </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function uses test vectors defined in the class and test implementation versus them. </p><hr/>
 <dl class="section return"><dt>Returns</dt><dd><ul>
<li>
<a class="el" href="error_8hpp.html#acabd2917084445509becf54ab64a4bd0a72d7027f95e0f2811e3ff04fa7e42392" title="an unexpected error occured ">ERROR_UNEXPECTED</a> if a mismatch is found </li>
<li>
<a class="el" href="error_8hpp.html#acabd2917084445509becf54ab64a4bd0abf350750d0d4fabd8954c0f1e9bbae94" title="evertything is ok ">NO_ERROR</a> if everything matches </li>
</ul>
</dd></dl>
<hr/>
 
</div>
</div>
<a class="anchor" id="a5b9524a8e0940a487790465f5d0b60dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HMAC::update </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function process the provided data but outputs nothing. Multiple call to update may be of interest when data is being received in multiple blocks or if the message is too large or the memory. </p><hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>is an array of bytes to process. </td></tr>
    <tr><td class="paramname">length</td><td>is the number of element in the array data.</td></tr>
  </table>
  </dd>
</dl>
<hr/>
 
<p>Referenced by <a class="el" href="api__int_8cpp_source.html#l00129">API::loadAPI()</a>, and <a class="el" href="api__int_8cpp_source.html#l00015">API::saveAPI()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>includes/<a class="el" href="hmac_8hpp_source.html">hmac.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
